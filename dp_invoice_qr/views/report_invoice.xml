<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit invoice report to add QR code -->
    <template id="report_invoice_document_qr" inherit_id="account.report_invoice_document">
        <xpath expr="//div[@id='informations']" position="after">
            <t t-if="o.show_qr_on_invoice and o.qr_code_image">
                <div class="row mt-3 mb-3">
                    <div class="col-12 text-end">
                        <div class="d-inline-block qr-code-container">
                            <img t-att-src="image_data_uri(o.qr_code_image)" 
                                 class="qr-code-image"
                                 style="width: 100px; height: 100px;"
                                 alt="Invoice QR Code"/>
                            <p class="small text-muted mt-1 mb-0">Scan for payment info</p>
                        </div>
                    </div>
                </div>
            </t>
        </xpath>
    </template>
    
    <!-- Alternative position: at the bottom of the invoice -->
    <template id="report_invoice_document_qr_bottom" inherit_id="account.report_invoice_document" active="False">
        <xpath expr="//div[@class='clearfix']" position="after">
            <t t-if="o.show_qr_on_invoice and o.qr_code_image">
                <div class="row mt-4">
                    <div class="col-8">
                        <p class="small text-muted">
                            <strong>Quick Payment:</strong> Scan the QR code with your banking app
                            for instant payment details.
                        </p>
                    </div>
                    <div class="col-4 text-end">
                        <img t-att-src="image_data_uri(o.qr_code_image)" 
                             style="width: 80px; height: 80px;"
                             alt="Invoice QR Code"/>
                    </div>
                </div>
            </t>
        </xpath>
    </template>
</odoo>
